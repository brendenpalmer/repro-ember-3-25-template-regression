{{! Template from `cargo` with (MIT OR Apache-2.0) license }}
{{! Repo URL: git+https://github.com/rust-lang/crates.io.git }}
<button
  type="button"
  disabled={{or
    this.followStateTask.isRunning
    this.followStateTask.last.error
    this.toggleFollowTask.isRunning
  }}
  local-class="button"
  data-test-follow-button
  {{on "click" (perform this.toggleFollowTask)}}
>
  {{#if (or this.followStateTask.isRunning this.toggleFollowTask.isRunning)}}
    <LoadingSpinner data-test-spinner />
  {{else}}
    {{#if this.following}}
      Unfollow
    {{else}}
      Follow
    {{/if}}
  {{/if}}
</button>